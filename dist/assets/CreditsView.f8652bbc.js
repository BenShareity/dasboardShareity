import{M as x,a4 as k}from"./ServerCall.bf212017.js";import{U as B}from"./utilityMethods.d9c941ff.js";import"./session.f47d2680.js";import{_ as C,U as _}from"./LayoutAuthenticated.ccaeb884.js";import{L as w}from"./LoadingSpinner.708020bb.js";import{_ as A}from"./NavBar.1d7fa6fb.js";import{_ as E}from"./NotificationBar.67de616f.js";import{_ as h}from"./BaseButton.060f3a5f.js";import{_ as N}from"./CardBox.b1a10a53.js";import{a as u,j as F,Q as G,M as L,o as r,c as X,w as d,b as e,g as t,e as a,f as c,h as g,F as I,A as O,K as U,t as i}from"./index.8eef5a34.js";import"./BaseIcon.86eb869a.js";import"./LoginController.5d91ed5e.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./alerts.ef7819ba.js";import"./BaseLevel.c2afcd4c.js";const V={class:"flex justify-between pb-5"},$={class:"flex gap-2 items-center"},D=t("p",{class:"lg:text-xl text-lg"},"Credit",-1),T={key:0,class:"flex align-center justify-center h-screen"},j={key:1,class:"flex flex-col md:flex-row w-full items-start gap-6"},P=t("p",{class:"font-bold uppercase p-5"},"Last Transactions",-1),K={class:"table-auto w-full text-sm text-left text-gray-500 dark:text-gray-400"},M=t("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[t("tr",null,[t("th",null,"Date"),t("th",null,"Amount"),t("th",null,"Credits obtained"),t("th",null,"Card type")])],-1),S={class:"bg-white"},W={"data-label":"Date"},H={"data-label":"Amount"},J={"data-label":"Credits obtained"},Q={"data-label":"Card type"},q={class:"font-bold text-l"},z={class:"grid grid-col-1 grid-cols-3"},_t={__name:"CreditsView",setup(Z){const m=u(0),p=u([]),l="pk_test_51NxrjwGEa3BXvsmAGQumwgtrFNGTNJK8gesE1WFdvZc8CIH90WEB4lOWxIec0FIJvUqI6F26pPZeaSqJTBkmBUt7005KYjnPz3",y=u({}),n=u(Boolean),v=F(()=>p.value.page);return G(async()=>{y.value=await _.getMyProfile(),n.value=!0;let b=y.value.id;m.value=await _.getCredit(b),_.getCreditHistory(b,5).then(f=>{p.value=f,n.value=!1})}),(b,f)=>{const o=L("stripe-buy-button");return r(),X(C,null,{default:d(()=>[e(A,null,{default:d(()=>[t("div",V,[t("div",$,[e(h,{to:"/dashboard",icon:a(x),color:"info","rounded-full":"",small:""},null,8,["icon"]),D]),t("div",null,[e(h,{class:"mr-5",label:"Credit History",color:"info",icon:a(k),to:"/credits-history"},null,8,["icon"])])]),n.value?(r(),c("div",T,[e(w)])):g("",!0),n.value?g("",!0):(r(),c("div",j,[e(N,{"has-table":"",class:"mb-6 pb-5 w-1/2"},{default:d(()=>[P,t("table",K,[M,t("tbody",S,[(r(!0),c(I,null,O(v.value,s=>(r(),c("tr",{key:s.id},[t("td",W,i(a(B).formatDate(s.createAt)),1),t("td",H,i(`$ ${s.type=="credit"?s.rate*s.credit:0}`),1),t("td",J,i(s.credit),1),t("td",Q,i(s.type),1)]))),128))])])]),_:1}),e(E,{color:"info",class:"w-1/2"},{default:d(()=>{var s;return[U(" AVAILABLE BALANCE: "),t("span",q,i((s=m.value)==null?void 0:s.credits),1)]}),_:1})])),t("div",z,[e(o,{"buy-button-id":"buy_btn_1NxsteGEa3BXvsmARzNwOSDF","publishable-key":a(l)},null,8,["publishable-key"]),e(o,{"buy-button-id":"buy_btn_1NxtITGEa3BXvsmAsKtmtery","publishable-key":a(l)},null,8,["publishable-key"]),e(o,{"buy-button-id":"buy_btn_1O1tcFGEa3BXvsmAIQaivid2","publishable-key":a(l)},null,8,["publishable-key"]),e(o,{"buy-button-id":"buy_btn_1O1td2GEa3BXvsmACCEWCe4X","publishable-key":a(l)},null,8,["publishable-key"]),e(o,{"buy-button-id":"buy_btn_1O1tdeGEa3BXvsmAdUoolTXh","publishable-key":a(l)},null,8,["publishable-key"]),e(o,{"buy-button-id":"buy_btn_1O1taoGEa3BXvsmABkOpe1iV","publishable-key":a(l)},null,8,["publishable-key"])])]),_:1})]),_:1})}}};export{_t as default};
