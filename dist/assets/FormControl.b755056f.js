import{o,c as F,j as c,s as B,a as y,x as S,y as E,f as d,q as v,z as V,n as p,F as q,A as R,t as C,B as M,v as D,h as U}from"./index.8eef5a34.js";import{_ as z}from"./BaseIcon.86eb869a.js";const A={__name:"FormControlIcon",props:{icon:{type:String,default:null},h:{type:String,default:null}},setup(e){return(b,a)=>(o(),F(z,{path:e.icon,w:"w-10",h:e.h,class:"absolute top-0 left-0 z-10 pointer-events-none text-gray-500 dark:text-slate-400"},null,8,["path","h"]))}},K={class:"relative"},L=["disabled","id","name"],j=["value"],H=["disabled","id","name","placeholder","required"],I=["disabled","id","name","inputmode","autocomplete","required","placeholder","type"],$={__name:"FormControl",props:{name:{type:String,default:null},id:{type:String,default:null},autocomplete:{type:String,default:null},placeholder:{type:String,default:null},inputmode:{type:String,default:null},icon:{type:String,default:null},options:{type:Array,default:null},disabled:{type:Boolean,default:!1},type:{type:String,default:"text"},modelValue:{type:[String,Number,Boolean,Array,Object],default:""},required:Boolean,borderless:Boolean,transparent:Boolean,ctrlKFocus:Boolean},emits:["update:modelValue","setRef"],setup(e,{emit:b}){const a=e,i=b,u=c({get:()=>a.modelValue,set:n=>{i("update:modelValue",n)}}),m=c(()=>{const n=["px-3 py-2 max-w-full focus:ring focus:outline-none border-gray-700 rounded w-full","dark:placeholder-gray-400",r.value==="textarea"?"h-24":"h-12",a.borderless?"border-0":"border",a.transparent?"bg-transparent":"bg-white dark:bg-slate-800"];return a.icon&&n.push("pl-8"),n}),r=c(()=>a.options?"select":a.type),w=c(()=>a.type==="textarea"?"h-full":"h-12"),f=B(),h=y(null),g=y(null),s=y(null);if(S(()=>{h.value?i("setRef",h.value):g.value?i("setRef",g.value):i("setRef",s.value)}),a.ctrlKFocus){const n=l=>{l.ctrlKey&&l.key==="k"?(l.preventDefault(),s.value.focus()):l.key==="Escape"&&(console.log(s.value.blur()),s.value.blur())};S(()=>{f.isFieldFocusRegistered||(window.addEventListener("keydown",n),f.isFieldFocusRegistered=!0)}),E(()=>{window.removeEventListener("keydown",n),f.isFieldFocusRegistered=!1})}return(n,l)=>(o(),d("div",K,[r.value==="select"?v((o(),d("select",{key:0,disabled:e.disabled,id:e.id,"onUpdate:modelValue":l[0]||(l[0]=t=>u.value=t),name:e.name,class:p(m.value)},[(o(!0),d(q,null,R(e.options,t=>{var k,x;return o(),d("option",{key:(k=t.id)!=null?k:t,value:t},C((x=t.label)!=null?x:t),9,j)}),128))],10,L)),[[V,u.value]]):r.value==="textarea"?v((o(),d("textarea",{key:1,disabled:e.disabled,id:e.id,"onUpdate:modelValue":l[1]||(l[1]=t=>u.value=t),class:p(m.value),name:e.name,placeholder:e.placeholder,required:e.required},null,10,H)),[[M,u.value]]):v((o(),d("input",{key:2,disabled:e.disabled,id:e.id,ref_key:"inputEl",ref:s,"onUpdate:modelValue":l[2]||(l[2]=t=>u.value=t),name:e.name,inputmode:e.inputmode,autocomplete:e.autocomplete,required:e.required,placeholder:e.placeholder,type:r.value,class:p(m.value)},null,10,I)),[[D,u.value]]),e.icon?(o(),F(A,{key:3,icon:e.icon,h:w.value},null,8,["icon","h"])):U("",!0)]))}};export{$ as _};
