import{u as w,H as h,a as b,r as $,Q as v,o as F,c as g,w as s,b as t,g as i,e as n,t as x,d as V}from"./index.8eef5a34.js";import{M as Q,ap as A,aq as C}from"./ServerCall.bf212017.js";import{_ as S}from"./NavBar.1d7fa6fb.js";import{_ as k}from"./CardBox.b1a10a53.js";import{_ as m}from"./FormField.8a5b2723.js";import{_ as d}from"./FormControl.b755056f.js";import{_ as p}from"./BaseButton.060f3a5f.js";import{_ as L}from"./BaseButtons.7d99a140.js";import{_ as B}from"./LayoutAuthenticated.ccaeb884.js";/* empty css             */import{u as D}from"./alerts.ef7819ba.js";import{F as _}from"./FaqController.b72c24d6.js";import"./session.f47d2680.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./BaseIcon.86eb869a.js";import"./LoginController.5d91ed5e.js";const E={class:"flex justify-between pb-5"},j={class:"flex gap-2 items-center"},M={class:"font-extrabold"},N={class:"gap-3"},se={__name:"CreateFaqView",setup(P){const u=D(),f=w(),a=h(),q=a.query.id?"Edit":"Create",r=b(!1),e=$({question:"",answer:""});v(()=>{e.question=a.query.question,e.answer=a.query.answer},[a.query.id]);const y=async()=>{r.value=!0;try{if(!a.query.id)_.create(e).then(()=>{u.createAlert({title:"FaQ created sussefully",color:"success",icon:"$success",text:"The FaQ has ben created"}),f.push("/faq")}).finally(()=>{r.value=!1});else{let o={question:e.question,answer:e.answer};_.update(a.query.id,o).then(()=>{u.createAlert({title:"FaQ updated sussefully",color:"success",icon:"$success",text:"The FaQ has ben updated"}),f.push("/faq")}).finally(()=>{r.value=!1})}}catch(o){u.createAlert({title:"Error",color:"red",icon:"$warning",text:`${o}, please check your form`}),console.log(o,"Please check our data")}};return(o,l)=>(F(),g(B,null,{default:s(()=>[t(S,null,{default:s(()=>[i("div",E,[i("div",j,[t(p,{icon:n(Q),to:"/faq",color:"info","rounded-full":"",small:""},null,8,["icon"]),i("p",M,x(n(q))+" FaQ",1)])]),t(k,{"is-form":"",class:"col-span-3",onSubmit:V(y,["prevent"])},{footer:s(()=>[t(L,{class:"justify-end"},{default:s(()=>[t(p,{color:"info",type:"submit",label:"Save",isLoading:r.value},null,8,["isLoading"])]),_:1})]),default:s(()=>[i("div",N,[t(m,{label:"Question"},{default:s(()=>[t(d,{modelValue:e.question,"onUpdate:modelValue":l[0]||(l[0]=c=>e.question=c),icon:n(A),required:""},null,8,["modelValue","icon"])]),_:1}),t(m,{label:"Answer"},{default:s(()=>[t(d,{modelValue:e.answer,"onUpdate:modelValue":l[1]||(l[1]=c=>e.answer=c),icon:n(C)},null,8,["modelValue","icon"])]),_:1})])]),_:1})]),_:1})]),_:1}))}};export{se as default};
